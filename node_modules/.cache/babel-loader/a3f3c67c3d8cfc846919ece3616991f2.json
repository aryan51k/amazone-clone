{"ast":null,"code":"import _slicedToArray from\"/Users/aryan/Desktop/react-amazon/amazon-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{CardElement,useElements,useStripe}from'@stripe/react-stripe-js';import React,{useState}from'react';import CurrencyFormat from'react-currency-format';import{Link}from'react-router-dom';import CheckoutProduct from'./CheckoutProduct';import'./Payment.css';import{useStateValue}from'./StateProvider';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Payment(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var stripe=useStripe();var elements=useElements();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),disabled=_useState4[0],setDisabled=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),succeeded=_useState6[0],setSucceeded=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),processing=_useState8[0],setProcessing=_useState8[1];var handleSubmit=function handleSubmit(e){};var handleChange=function handleChange(e){};return/*#__PURE__*/_jsx(\"div\",{className:\"payment\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"payment__container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Checkout (\",/*#__PURE__*/_jsxs(Link,{to:\"/checkout\",children:[basket===null||basket===void 0?void 0:basket.length,\" items\"]}),\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment__section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment__title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Delivery Address\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment__address\",children:[/*#__PURE__*/_jsx(\"p\",{children:user===null||user===void 0?void 0:user.email}),/*#__PURE__*/_jsx(\"p\",{children:\"Random street\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Random country, Random\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment__section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment__title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Review items and delivery\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"payment__items\",children:basket.map(function(item){return/*#__PURE__*/_jsx(CheckoutProduct,{id:item.id,title:item.title,image:item.image,price:item.price,rating:item.rating});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment__section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment__title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Payment Method\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"payment__details\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(CardElement,{onChange:handleChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment__priceContainer\",children:[/*#__PURE__*/_jsx(CurrencyFormat,{renderText:function renderText(value){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Order total: \",value]})})});},decimalScale:2,value:basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0),displayType:\"text\",thousandSeparator:true,prefix:'$'}),/*#__PURE__*/_jsx(\"button\",{disabled:processing||disabled||succeeded,children:/*#__PURE__*/_jsx(\"span\",{children:processing?/*#__PURE__*/_jsx(\"p\",{children:\"Processing \"}):'Buy now'})}),error&&/*#__PURE__*/_jsx(\"div\",{children:error})]})]})})]})]})});}export default Payment;","map":{"version":3,"sources":["/Users/aryan/Desktop/react-amazon/amazon-clone/src/Payment.js"],"names":["CardElement","useElements","useStripe","React","useState","CurrencyFormat","Link","CheckoutProduct","useStateValue","Payment","basket","user","dispatch","stripe","elements","error","setError","disabled","setDisabled","succeeded","setSucceeded","processing","setProcessing","handleSubmit","e","handleChange","length","email","map","item","id","title","image","price","rating","value","reduce","amount"],"mappings":"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","sourcesContent":["import { CardElement, useElements, useStripe } from '@stripe/react-stripe-js'\nimport React, { useState } from 'react'\nimport CurrencyFormat from 'react-currency-format'\nimport { Link } from 'react-router-dom'\nimport CheckoutProduct from './CheckoutProduct'\nimport './Payment.css'\nimport { useStateValue } from './StateProvider'\nfunction Payment() {\n    const [{basket, user}, dispatch] = useStateValue();\n    const stripe = useStripe();\n    const elements = useElements()\n\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState(\"\");\n    const handleSubmit = e => {\n        \n    }\n    const handleChange = e => {\n\n    }\n  return (\n    <div className='payment'>\n        \n\n        <div className='payment__container'>\n        <h1>\n            Checkout (\n                <Link to='/checkout'>{basket?.length} items</Link>\n            )\n        </h1>\n            <div className='payment__section'>\n                <div className='payment__title'>\n                    <h3>Delivery Address</h3>\n                </div>\n                <div className='payment__address'>\n                    <p>{user?.email}</p>\n                    <p>Random street</p>\n                    <p>Random country, Random</p>\n                </div>\n            </div>\n            <div className='payment__section'>\n                <div className='payment__title'>\n                    <h3>Review items and delivery</h3>\n                </div>\n                <div className='payment__items'>\n                    {basket.map(item => (\n                        <CheckoutProduct\n                        id = {item.id}\n                        title = {item.title}\n                        image = {item.image}\n                        price = {item.price}\n                        rating = {item.rating}\n                        />\n                    ))}\n                </div>\n            </div>\n            <div className='payment__section'>\n                <div className='payment__title'>\n                    <h3>\n                        Payment Method\n                    </h3>\n                </div>\n                <div className='payment__details'>\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange}></CardElement>\n                            <div className='payment__priceContainer'>\n                            <CurrencyFormat\n                                renderText={(value) => (\n                                <>\n                                    <p>                        \n                                        <strong>Order total: {value}</strong>\n                                    </p>\n\n                                </>\n                            )}\n                            decimalScale={2}\n                            value={basket?.reduce((amount, item) => item.price + amount, 0)}\n                            displayType={\"text\"}\n                            thousandSeparator={true}\n                            prefix={'$'}\n                            />\n                            <button disabled={processing ||  disabled || succeeded}>\n                                <span>{processing ? <p>Processing </p> : 'Buy now'}\n                                </span> \n\n                            </button>\n                            \n                                {error && <div>{error}</div>}\n                            \n                            </div>\n                        </form>\n                </div> \n\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default Payment"]},"metadata":{},"sourceType":"module"}